# μ„λΉ„μ¤: ν΄λΌμ΄μ–ΈνΈκ°€ νλ“λ¥Ό κ²€μƒ‰ν•κ³  ν†µμ‹ μ„ κ°€λ¥ν•κ² ν•¨

1. μ„λΉ„μ¤λ€? νλ“κ°€ λ‹¤λ¥Έ νλ“λ¥Ό μ°Ύλ” λ°©λ²•

       μ„λΉ„μ¤κ°€ ν•„μ”ν• μ΄μ 
       - νλ“λ” μΌμ‹μ μ΄λ‹¤. νλ“κ°€ λ‹¤λ¥Έ νλ“λ¥Ό μ„ν• κ³µκ°„μ„ ν™•λ³΄ν•λ ¤κ³  λ…Έλ“μ—μ„ μ κ±°λκ±°λ‚, λ„κµ°κ°€ νλ“ μλ¥Ό μ¤„μ΄κ±°λ‚, ν΄λ¬μ¤ν„° λ…Έλ“μ μ¥μ• λ΅ μ–Έμ λ“  λ‹¤λ¥Έ λ…Έλ“λ΅ μ΄λ™ν•  μ μλ‹¤.
       - μΏ λ²„λ„¤ν‹°μ¤λ” λ…Έλ“μ— νλ“λ¥Ό μ¤μΌ€μ¤„λ§ν• ν›„ νλ“κ°€ μ‹μ‘λκΈ° λ°”λ΅ μ „μ νλ“μ IP μ£Όμ†λ¥Ό ν• λ‹Ήν•λ‹¤. λ”°λΌμ„ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„ podμ IP μ£Όμ†λ¥Ό λ―Έλ¦¬ ν•  μ μ—†λ‹¤.
       - μν‰ μ¤μΌ€μΌλ§μ€ μ—¬λ¬ νλ“κ°€ λ™μΌν• μ„λΉ„μ¤λ¥Ό μ κ³µν•  μ μμμ„ μλ―Έν•¨. κ° νλ“λ” κ³ μ ν• IP μ£Όμ†κ°€ μλ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤λ¥Ό μ§€μ›ν•λ” νλ“μ μμ™€ IPμ— μƒκ΄€ν•μ§€ μ•μ•„μ•Ό ν•λ‹¤.
       - νλ“λ” κ°λ³„ IP λ©λ΅μ„ μ μ§€ν•  ν•„μ”κ°€ μ—†λ‹¤. κ·Έ λ€μ‹  λ¨λ“  νλ“λ” λ‹¨μΌ IP μ£Όμ†λ΅ μ•΅μ„Έμ¤ ν•  μ μμ–΄μ•Ό ν•λ‹¤.  


       μΏ λ²„λ„¤ν‹°μ¤μ μ„λΉ„μ¤λ” λ™μΌν• μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” νλ“ κ·Έλ£Ήμ— μ§€μ†μ μΈ λ‹¨μΌ μ ‘μ μ„ λ§λ“¤λ ¤κ³  ν•  λ• μƒμ„±ν•λ” λ¦¬μ†μ¤.
       κ° μ„λΉ„μ¤λ” μ„λΉ„μ¤κ°€ μ΅΄μ¬ν•λ” λ™μ• μ λ€ λ°”λ€μ§€ μ•λ” IP μ£Όμ†μ™€ ν¬νΈκ°€ μλ‹¤.
       ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή IPμ™€ ν¬νΈλ΅ μ ‘μ†ν• λ‹¤μ ν•΄λ‹Ή μ„λΉ„μ¤λ¥Ό μ§€μ›ν•λ” νλ“ μ¤‘ ν•λ‚λ΅ μ—°κ²° λλ‹¤.
       ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” κ°λ³„ νλ“μ μ„μΉλ¥Ό μ• ν•„μ” μ—†μΌλ―€λ΅, μ΄ νλ“λ” μ–Έμ λ“ μ§€ ν΄λ¬μ¤ν„° μ•μ—μ„ μ΄λ™ν•  μ μλ‹¤.
       
<center><img src="https://user-images.githubusercontent.com/91730236/157878478-be84aab6-6cf8-460e-b611-a41c064d110d.png" width="700" height="350"></center>      

       
       
       μ„λΉ„μ¤μ μƒμ„± -> μ„λΉ„μ¤ μ—°κ²°μ€ μ„λΉ„μ¤ λ’·λ‹¨μ λ¨λ“  νλ“λ΅ λ΅λ“λ°Έλ°μ‹± λλ‹¤.
       λ μ΄λΈ” μ…€λ ‰ν„°λ” μ–΄λ–¤ νλ“κ°€ μ„λΉ„μ¤μ— μ†ν•λ”μ§€ μ •ν•λ‹¤.
       
<center><img src="https://user-images.githubusercontent.com/91730236/157879122-c8700e1a-9b59-4b11-88c0-5ea45d2d3aed.png" width="700" height="350"></center>


       kubectl exposeλ΅ μ„λΉ„μ¤ μƒμ„± -> exposeλ¥Ό μ‚¬μ©ν•΄μ„ λ ν”λ¦¬μΌ€μ΄μ…μ»¨νΈλ΅¤λ¬λ¥Ό λ…Έμ¶ν•λ”λ° μ‚¬μ©
       
       srcμ—μ„ kubia-svc.yaml create ν›„ get μ΅°ν  
       
       kubectl get svc
       NAME               TYPE           CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE
       flink-jobmanager   ClusterIP      10.109.242.196   <none>        6123/TCP,6124/TCP,8081/TCP   61d
       kubernetes         ClusterIP      10.96.0.1        <none>        443/TCP                      161d
       kubia              ClusterIP      10.96.166.187    <none>        90/TCP                       10s
       kubia-http         LoadBalancer   10.100.233.74    <pending>     9090:31813/TCP               9d
       
       
       
       ν΄λ¬μ¤ν„° λ‚΄μ—μ„ μ„λΉ„μ¤ ν…μ¤νΈ
       - ν™•μ‹¤ν• λ°©λ²•μ€ μ„λΉ„μ¤μ ν΄λ¬μ¤ν„° IPλ΅ μ”μ²­μ„ λ³΄λ‚΄κ³  μ‘λ‹µμ„ λ΅κ·Έλ΅ λ‚¨κΈ°λ” νλ“λ¥Ό λ§λ“λ” κ²ƒ.
       - κ·Έλ° λ‹¤μ νλ“μ λ΅κ·Έλ¥Ό κ²€μ‚¬ν•΄ μ„λΉ„μ¤μ μ‘λ‹µμ΄ λ¬΄μ—‡μΈμ§€ ν™•μΈν•  μ μλ‹¤.
       - μΏ λ²„λ„¤ν‹°μ¤ λ…Έλ“λ΅ sshλ΅ μ ‘μ†ν•κ³  curl λ…λ Ήμ„ μ‹¤ν–‰ ν•  μ μλ‹¤.
       - kubectl exec λ…λ Ήμ–΄λ΅ κΈ°μ΅΄ νλ“μ—μ„ curl λ…λ Ήμ„ μ‹¤ν–‰ν•  μ μλ‹¤.
       
       kubectl exec kubia-kkhk9 -- curl -s http://10.96.166.187:90
       You've hit kubia-tbg58
       
       λ™μ‘μμ„
![kube_service drawio (2)](https://user-images.githubusercontent.com/91730236/157883721-5c1aeb39-e18b-4583-a648-e6662f266832.png)

       
       μ„λΉ„μ¤μ μ„Έμ… μ–΄ν”Όλ‹ν‹° κµ¬μ„± : νΉμ • ν΄λΌμ΄μ–ΈνΈμ λ¨λ“  μ”μ²­μ„ λ§¤λ² κ°™μ€ νλ“λ΅ λ¦¬λ””λ ‰μ… ν•λ ¤λ©΄ spec: μ†μ„±μ—μ„ sessionAffinity: ClientIPλΌκ³  μ„¤μ •
       λ™μΌν• μ„λΉ„μ¤μ—μ„ μ—¬λ¬ κ°μ ν¬νΈ λ…Έμ¶ : μ—¬λ¬ ν¬νΈκ°€ μλ” μ„λΉ„μ¤λ¥Ό λ§λ“¤ λ•λ” κ° ν¬νΈμ μ΄λ¦„μ„ μ§€μ •ν•΄μ•Ό ν•λ‹¤. 
       μ΄λ¦„μ΄ μ§€μ •λ ν¬νΈλ¥Ό μ‚¬μ©ν•  μ μλ‹¤. -> src μ—μ„ ~muilt.yaml μ‹¤ν–‰ν•κ³  μ„ λ°©μ‹μΌλ΅ ν…μ¤νΈ
       
       
       μ„λΉ„μ¤ κ²€μƒ‰ λ°©λ²• ( μ”λ¶€λ¶„ μ΅°κΈ λ” μ΄ν•΄λ¥Ό ν•  ν•„μ”κ°€ μλ‹¤ )
       - ν™κ²½λ³€μλ¥Ό ν†µν• μ„λΉ„μ¤ κ²€μƒ‰ kubectl exec kubia-rx2vs env
       - DNSλ¥Ό ν†µν• μ„λΉ„μ¤ κ²€μƒ‰
       - FQDNμ„ ν†µν• μ„λΉ„μ¤ μ—°κ²°
       - νλ“μ μ»¨ν…μ΄λ„ λ‚΄μ—μ„ μ…Έ μ‹¤ν–‰
     
     
     
---------------------------     
2. ν΄λ¬μ¤ν„° μ™Έλ¶€μ— μλ” μ„λΉ„μ¤ μ—°κ²°  
       
       μ„λΉ„μ¤ μ—”λ“ν¬μΈνΈ
       kubectl describe svc kubia
       Name:              kubia
       Namespace:         default
       Labels:            <none>
       Annotations:       <none>
       Selector:          app=kubia
       Type:              ClusterIP
       IP Family Policy:  SingleStack
       IP Families:       IPv4
       IP:                10.100.218.171
       IPs:               10.100.218.171
       Port:              http  80/TCP
       TargetPort:        8080/TCP
       Endpoints:         172.17.0.10:8080,172.17.0.8:8080,172.17.0.9:8080
       Port:              https  90/TCP
       TargetPort:        9090/TCP
       Endpoints:         172.17.0.10:9090,172.17.0.8:9090,172.17.0.9:9090
       Session Affinity:  None
       Events:            <none>
       
       kubectl get endpoints kubia
       NAME    ENDPOINTS                                                      AGE
       kubia   172.17.0.10:9090,172.17.0.8:9090,172.17.0.9:9090 + 3 more...   10m
       
       
       μ„λΉ„μ¤λ” νλ“μ— μ§μ ‘ μ—°κ²°λμ§€ μ•λ”λ‹¤. μ—”λ“ν¬μΈνΈ λ¦¬μ†μ¤κ°€ κ·Έ μ‚¬μ΄μ— μλ‹¤.
       νλ“μ…€λ ‰ν„°λ” μ„λΉ„μ¤ μ¤ν™μ— μ •μλμ–΄ μμ§€λ§, λ“¤μ–΄μ¤λ” μ—°κ²°μ„ μ „λ‹¬ν•  λ• μ§μ ‘ μ‚¬μ©ν•μ§€ μ•λ”λ‹¤.
       λ€μ‹  μ…€λ ‰ν„°λ” IPμ™€ ν¬νΈ λ©λ΅μ„ μ‘μ„±ν•λ”λ° μ‚¬μ©λλ©° μ—”λ“ν¬μΈνΈ λ¦¬μ†μ¤μ— μ €μ¥
       ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΉ„μ¤μ— μ—°κ²°ν•λ©΄
       μ„λΉ„μ¤ ν”„λ΅μ‹λ” μ΄λ“¤ μ¤‘ ν•λ‚μ IPμ™€ ν¬νΈ μμ„ μ„ νƒν•κ³  λ“¤μ–΄μ¨ μ—°κ²°μ„ λ€μƒ νλ“μ μμ‹  λ€κΈ° μ„λ²„λ΅ μ „λ‹¬.
       
       
       κ·Έλμ„ -> μ„λΉ„μ¤ μ—”λ“ν¬μΈνΈλ” μλ™μΌλ΅ κµ¬μ„±μ΄ κ°€λ¥ν•λ‹¤.
       1. μ…€λ ‰ν„°κ°€ μ—†λ” μ„λΉ„μ¤ μƒμ„±
       2. μ—”λ“ν¬μΈνΈλ” λ³„λ„μ λ¦¬μ†μ¤μ΄λ©°, μ„λΉ„μ¤ μ†μ„±μ€ μ•„λ‹. -> μ—”λ“ν¬μΈνΈ μλ™ μƒμ„± μ•λ¨ -> μ—”λ“ν¬μΈνΈ μ„λΉ„μ¤λ¥Ό μƒμ„±ν•΄μ•Ό ν•λ‹¤.
       3. μ—”λ“ν¬μΈνΈ μ¤λΈμ νΈλ” μ„λΉ„μ¤μ™€ μ΄λ¦„μ΄ κ°™μ•„μ•Ό ν•κ³  μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” λ€μƒ IP μ£Όμ†μ™€ ν¬νΈ λ©λ΅μ„ κ°€μ Έμ•Ό ν•λ‹¤.
       4. μ„λΉ„μ¤μ™€ μ—”λ“ν¬μΈνΈ λ¦¬μ†μ¤κ°€ λ¨λ‘ μ„λ²„μ— κ²μ‹λλ©΄ νλ“ μ…€λ ‰ν„°κ°€ μλ” μ„λΉ„μ¤μ²λΌ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.
       5. μ„λΉ„μ¤κ°€ λ§λ“¤μ–΄μ§„ ν›„ λ§λ“¤μ–΄μ§„ μ»¨ν…μ΄λ„μ—λ” μ„λΉ„μ¤μ ν™κ²½λ³€μκ°€ ν¬ν•¨λλ©° IP:ν¬λ“ μμ— λ€ν• λ¨λ“  μ—°κ²°μ€ μ„λΉ„μ¤ μ—”λ“ν¬μΈνΈ κ°„μ— λ΅λ“λ°Έλ°μ‹±ν•λ‹¤.
       ( external-service-endpoints.yaml )

![kube_service drawio (3)](https://user-images.githubusercontent.com/91730236/157888958-5e09d0b3-4f5c-4aed-9474-7cd7f7a427df.png)



       μ™Έλ¶€ μ„λΉ„μ¤λ¥Ό μ„ν• λ³„μΉ­ μƒμ„±
       - μ„λΉ„μ¤μ μ—”λ“ν¬μΈνΈλ¥Ό μλ™μΌλ΅ κµ¬μ„±ν•΄ μ™Έλ¶€ μ„λΉ„μ¤λ¥Ό λ…Έμ¶ν•λ” λ€μ‹  μΆ€ λ” κ°„λ‹¨ν• λ°©λ²•μΌλ΅ FQDN(Fully Qualified Domain Name)μΌλ΅ μ™Έλ¶€ μ„λΉ„μ¤λ¥Ό μ°Έμ΅° ν•  μ μλ‹¤.
       - μ™Έλ¶€ μ„λΉ„μ¤μ λ³„μΉ­μΌλ΅ μ‚¬μ©λλ” μ„λΉ„μ¤λ¥Ό λ§λ“¤λ ¤λ©΄ μ ν• ν•„λ“λ” ExternalNameμΌλ΅ μ„¤μ •ν•΄ μ„λΉ„μ¤ λ¦¬μ†λ¥΄λ¥Ό λ§λ“ λ‹¤.
       - μ„λΉ„μ¤κ°€ μƒμ„±λλ©΄ νλ“λ” μ„λΉ„μ¤μ FQDNμ„ μ‚¬μ©ν•λ” λ€μ‹  external-service.default.svc.cluster.local λ„λ©”μΈ μ΄λ¦„μΌλ΅ μ™Έλ¶€ μ„λΉ„μ¤μ— μ—°κ²° κ°€λ¥
       - μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•λ” νλ“μ—μ„ μ‹¤μ  μ„λΉ„μ¤ μ΄λ¦„κ³Ό μ„μΉκ°€ μ¨κ²¨μ Έ λ‚μ¤‘μ— externalName μ†μ„±μ„ λ³€κ²½ν•κ±°λ‚ μ ν•μ„ λ‹¤μ‹ ClusterIPλ΅ λ³€κ²½ν•κ³  μ„λΉ„μ¤ μ¤ν™μ„ λ§λ“¤μ–΄ μ„λΉ„μ¤ μ¤ν™μ„ μμ •ν•λ©΄ λ‚μ¤‘μ— λ‹¤λ¥Έ μ„λΉ„μ¤λ¥Ό κ°€λ¦¬ν‚¬ μ μ—†λ‹¤.
       - μ„λΉ„μ¤λ¥Ό μ„ν• μ—”λ“ν¬μΈνΈ μ¤λΈμ νΈλ¥Ό μλ™ νΉμ€ μ„λΉ„μ¤μ— λ μ΄λΈ” μ…€λ ‰ν„°λ¥Ό μ§€μ •ν•΄ μ—”λ“ν¬μΈνΈκ°€ μλ™μΌλ΅ μƒμ„±λλ„λ΅ ν•λ‹¤.
       - ExternalName μ„λΉ„μ¤λ” DNS λ λ²¨μ—μ„λ§ κµ¬ν„λλ‹¤.
       - μ„λΉ„μ¤μ— κ΄€ν• κ°„λ‹¨ν• CNAME DNS λ μ½”λ“κ°€ μƒμ„±λλ‹¤.
       - μ„λΉ„μ¤μ— μ—°κ²°ν•λ” ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤ ν”„λ΅μ‹λ¥Ό μ™„μ „ν λ¬΄μ‹ν•κ³  μ™Έλ¶€ μ„λΉ„μ¤μ— μ§μ ‘ μ—°κ²°λλ‹¤.
       - CNAME λ μ½”λ“λ” IP μ£Όμ† λ€μ‹  FQDNμ„ κ°€λ¦¬ν‚¨λ‹¤.

        


---------------------------
3. ν΄λ¬μ¤ν„° μ™Έλ¶€μ— μλ” μ„λΉ„μ¤ μ—°κ²°

       μ™Έλ¶€ ν΄λΌμ΄μ–ΈνΈ μ„λΉ„μ¤ λ…Έμ¶ λ°©λ²•
       - λ…Έλ“ν¬νΈλ΅ μ„λΉ„μ¤ μ ν• μ„¤μ •: λ…Έλ“ν¬νΈ μ„λΉ„μ¤μ κ²½μ° κ° ν΄λ¬μ¤ν„° λ…Έλ“λ” λ…Έλ“ μμ²΄μ—μ„ ν¬νΈλ¥Ό μ—΄κ³  ν•΄λ‹Ή ν¬νΈλ΅ μμ‹ λ νΈλν”½μ„ μ„λΉ„μ¤λ΅ μ „λ‹¬ν•λ‹¤.
                               μ΄ μ„λΉ„μ¤λ” λ‚΄λ¶€ ν΄λ¬μ¤ν„° IPμ™€ ν¬νΈλ΅ μ•΅μ„Έμ¤ν•  μ μμ„ λΏλ§ μ•„λ‹λΌ λ¨λ“  λ…Έλ“μ μ „μ© ν¬νΈλ΅λ„ μ•΅μ„Έμ¤ ν•  μ μλ‹¤.
       - μ„λΉ„μ¤ μ ν•μ„ λ…Έλ“ν¬νΈ μ ν•μ ν™•μ¥μΈ λ΅λ“λ°Έλ°μ„λ΅ μ„¤μ • : μΏ λ²„λ„¤ν‹°μ¤κ°€ μ‹¤ν–‰ μ¤‘μΈ ν΄λΌμ°λ“ μΈν”„λΌμ—μ„ ν”„λ΅λΉ„μ €λ‹ λ μ „μ© λ΅λ“λ°Έλ°μ„λ΅ μ„λΉ„μ¤μ— μ•΅μ„Έμ¤ν•  μ μλ‹¤.
       - λ‹¨μΌ IP μ£Όμ†λ΅ μ—¬λ¬ μ„λΉ„μ¤λ¥Ό λ…Έμ¶ν•λ” μΈκ·Έλ μ¤ λ¦¬μ†μ¤ λ§λ“¤κΈ° : HTTP λ λ²¨μ—μ„ μ‘λ™ν•λ―€λ΅ 4κ³„μΈµ μ„λΉ„μ¤λ³΄λ‹¤ λ” λ§μ€ κΈ°λ¥μ„ μ κ³µν•  μ μλ‹¤. μΈκ·Έλ μ¤ λ¦¬μ†μ¤



 >     λ…Έλ“ν¬νΈ μ„λΉ„μ¤ μƒμ„± λ° ν™•μΈ
 >     kubectl get svc kubia-nodeport
 >     NAME             TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
 >     kubia-nodeport   NodePort   10.104.45.206   <none>        80:30123/TCP   20s

![kube_service drawio (4)](https://user-images.githubusercontent.com/91730236/157894377-03592961-0458-4299-b9f1-c35c12f67546.png)

       
       
>      μ™Έλ¶€ λ΅λ“λ°Έλ°μ„λ΅ μ„λΉ„μ¤ λ…Έμ¶ ( minikubeλ” λ΅λ“λ°Έλ°μ„ μ κ³µ μ•ν•¨ )
>      -ν΄λΌμ°λ“ κ³µκΈ‰μμ—μ„ μ‹¤ν–‰λλ” μΏ λ²„λ„¤ν‹°μ¤ ν΄λ¬μ¤ν„°λ” μΌλ°μ μΌλ΅ ν΄λΌμ°λ“ μΈν”„λΌμ—μ„ λ΅λ“λ°Έλ°μ„λ¥Ό μλ™μΌλ΅ ν”„λ΅λΉ„μ €λ‹ν•λ” κΈ°λ¥μ„ μ κ³µν•λ‹¤.
>      -λ…Έλ“ν¬νΈ λ€μ‹  μ„λΉ„μ¤ μ ν•μ„ λ΅λ“λ°Έλ°μ„λ΅ μ„¤μ •ν•κΈ°λ§ ν•λ©΄ λλ‹¤.
>      -λ΅λ“λ°Έλ°μ„λ” κ³µκ°μ μΌλ΅ μ•΅μ„Έμ¤ κ°€λ¥ν• κ³ μ ν• IP μ£Όμ†λ¥Ό κ°€μ§€λ©° λ¨λ“  μ—°κ²°μ„ μ„λΉ„μ¤λ΅ μ „λ‹¬ν•λ‹¤.
>      -λ”°λΌμ„ λ΅λ“λ°Έλ°μ„μ IP μ£Όμ†λ΅ μ„λΉ„μ¤μ— μ—‘μ„Έμ¤ ν•  μ μλ‹¤.
>      -λ΅λ“λ°Έλ°μ„ μ„λΉ„μ¤λ¥Ό μ§€μ›ν•μ§€ μ•λ” ν™κ²½μ—μ„ μ‹¤ν–‰ μ¤‘μΈ κ²½μ° λ΅λ“λ°Έλ°μ„λ” ν”„λ΅λΉ„μ €λ‹λμ§€ μ•μ§€λ§ μ„λΉ„μ¤λ” μ—¬μ „ν λ…Έλ“ν¬νΈ μ„λΉ„μ¤μ²λΌ μ‘λ™
>      -λ΅λ“λ°Έλ°μ„ μ„λΉ„μ¤λ” λ…Έλ“ν¬νΈ μ„λΉ„μ¤μ ν™•μ¥μ΄κΈ° 

![kube_service drawio (5)](https://user-images.githubusercontent.com/91730236/157895288-f3e95673-3f52-474d-ad94-bbe8b14faf5d.png)

       
       μ™Έλ¶€ μ—°κ²° νΉμ„±μ μ΄ν•΄
       -λ¶ν•„μ”ν• λ„¤νΈμ›ν¬ ν™‰μ μ΄ν•΄μ™€ μλ°©
       -μ™Έλ¶€ ν΄λΌμ΄μ–ΈνΈκ°€ λ…Έλ“ν¬νΈλ΅ μ„λΉ„μ¤μ— μ ‘μ†ν•  κ²½μ° μ„μλ΅ μ„ νƒλ νλ“κ°€ μ—°κ²°μ„ μμ‹ ν• λ™μΌν• λ…Έλ“μ—μ„ μ‹¤ν–‰ μ¤‘μΌ μλ„ μκ³  κ·Έλ ‡μ§€ μ•μ„ μλ„ μμ
       -νλ“μ— λ„λ‹¬ν•λ ¤λ©΄ μ¶”κ°€μ μΈ λ„¤νΈμ›ν¬ ν™‰μ΄ ν•„μ”ν•  μ μμ
       -κ·Όλ° μ΄κ² ν•­μƒ λ°”λμ§ν•μ§€ μ•μ
       -μ™Έλ¶€μ μ—°κ²°μ„ μμ‹ ν• λ…Έλ“μ—μ„ μ‹¤ν–‰ μ¤‘μΈ νλ“λ΅λ§ μ™Έλ¶€ νΈλν”½μ„ μ „λ‹¬ν•λ„λ΅ μ„λΉ„μ¤λ¥Ό κµ¬μ„±ν•΄ μ΄ μ¶”κ°€ ν™‰μ„ λ°©μ§€ν•  μ μλ‹¤.
       -μ„λΉ„μ¤ spec: μ— externalTrafficPolicy: Localλ΅ μ„¤μ •
       -μ„λΉ„μ¤ μ •μμ— μ΄ μ„¤μ •μ΄ ν¬ν•¨λΌ μκ³  μ„λΉ„μ¤μ λ…Έλ“ν¬νΈλ΅ μ™Έλ¶€ μ—°κ²°μ΄ μ—΄λ¦° κ²½μ° μ„λΉ„μ¤ ν”„λ΅μ‹λ” λ΅μ»¬μ— μ‹¤ν–‰ μ¤‘μΈ νλ“λ¥Ό μ„ νƒν•λ‹¤.
       -λ΅μ»¬νλ“κ°€ μ΅΄μ¬ν•μ§€ μ•μΌλ©΄ μ—°κ²°μ΄ μ¤‘λ‹¨λλ‹¤.
       -μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ§€ μ•μ„ λ• μ—°κ²°μ΄ μ„μμ κΈ€λ΅λ² νλ“λ΅ μ „λ‹¬λμ§€ μ•μ.
       -λ”°λΌμ„ λ΅λ“λ°Έλ°μ„λ” νλ“κ°€ ν•λ‚ μ΄μƒ μλ” λ…Έλ“μ—λ§ μ—°κ²°μ„ μ „λ‹¬ν•λ„λ΅ ν•΄μ•Ό ν•λ‹¤.
       -ν΄λΌμ΄μ–ΈνΈ IPκ°€ λ³΄μ΅΄λμ§€ μ•μ μΈμ‹

       
       
       
       
----------------------------------------
4. μ™Έλ¶€ ν΄λΌμ΄μ–ΈνΈμ— μ„λΉ„μ¤ λ…Έμ¶
       
  μΈκ·Έλ μ¤λ€? λ“¤μ–΄κ°€κ±°λ‚ λ“¤μ–΄κ°€λ” ν–‰μ„. λ“¤μ–΄κ° κ¶λ¦¬. λ“¤μ–΄κ° μλ‹¨μ΄λ‚ μ¥μ†, μ§„μ…λ΅  
  μΈκ·Έλ μ¤κ°€ ν•„μ”ν• μ΄μ  -> μΈκ·Έλ μ¤ ν•λ‚λ΅ μμ‹­ κ°μ μ„λΉ„μ¤μ— μ ‘κ·Όμ΄ κ°€λ¥ν•λ„λ΅ μ§€μ›. μΈκ·Έλ μ¤λ” λ„¤νΈμ›ν¬ μ¤νƒμ μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ(HTTP)μ—μ„ μ‘λ™ν•¨ μ„λΉ„μ¤κ°€ ν•  μ μ—†λ” μΏ ν‚¤ κΈ°λ° μ„Έμ… μ–΄ν”Όλ‹ν‹° λ“±κ³Ό κ°™μ€ κΈ°λ¥ μ κ³µ
       
![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-03-12 α„‹α…©α„α…¥α†« 7 50 14](https://user-images.githubusercontent.com/91730236/157984966-1f1caf12-4c9d-4a5b-be9f-77c70530ed97.png)


              minikube addons enable ingress
                  β– Using image k8s.gcr.io/ingress-nginx/controller:v1.0.0-beta.3
                  β– Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.0
                  β– Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.0
              π”  Verifying ingress addon...
              π  'ingress' μ• λ“μ¨μ΄ ν™μ„±ν™”λμ—μµλ‹λ‹¤
       
              kubectl get po --all-namespaces
              NAMESPACE          NAME                                        READY   STATUS              RESTARTS        AGE
              custom-namespace   kubia-manual                                1/1     Running             3 (3d ago)      5d2h
              default            kubia-g2rk4                                 1/1     Running             0               73m
              default            kubia-rx2vs                                 1/1     Running             0               73m
              default            kubia-skffm                                 1/1     Running             0               73m
              ingress-nginx      ingress-nginx-admission-create--1-slms7     0/1     Completed           0               8m9s
              ingress-nginx      ingress-nginx-admission-patch--1-tnmz6      0/1     Completed           1               8m9s
              ingress-nginx      ingress-nginx-controller-69bdbc4d57-7nhhz   1/1     Running             0               8m9s
              istio-system       istio-ingressgateway-8dbb57f65-dkv28        0/1     ContainerCreating   0               125d
              istio-system       istiod-7859559dd-tsq74                      0/1     Pending             0               125d
              kube-system        coredns-78fcd69978-jvc8r                    1/1     Running             16 (3d ago)     161d
              kube-system        etcd-minikube                               1/1     Running             17 (3d ago)     161d
              kube-system        kube-apiserver-minikube                     1/1     Running             17 (3d ago)     161d
              kube-system        kube-controller-manager-minikube            1/1     Running             17 (3d ago)     161d
              kube-system        kube-proxy-tmfgd                            1/1     Running             16 (3d ago)     161d
              kube-system        kube-scheduler-minikube                     1/1     Running             17 (3d ago)     161d
              kube-system        storage-provisioner                         1/1     Running             45 (100m ago)   161d

------------------------------
μ”μ•½! ( μ™Έλ¶€μ™€ ν†µμ‹ μ΄ κ²°μ •λλ” λ¶€λ¶„ -> μ λ€λ΅ ν•™μµ ν•„μ” )
